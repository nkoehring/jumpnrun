(function(){window.JnR||(window.JnR={}),window.JnR.App=function(){function App(root,width,height){if(this.root=null!=root?root:document.body,this.width=width,this.height=height,"string"==typeof this.root&&(this.root=document.getElementById(this.root)),!this.root)throw new Error("invalid root element");this.addLayer("one"),this.addLayer("two")}return App.prototype.layers={},App.prototype.sprites={},App.prototype.addLayer=function(name){return null!=this.layers[name]?!1:this.layers[name]=new JnR.Layer(name,this.root,this.width,this.height)},App.prototype.addSprite=function(name,image,size){var sprite;return null!=sprites[name]?!1:(sprite=new Sprite(name),sprite.load(image,size),sprites[name]=sprite)},App.prototype.draw=function(layer,sprite,bbox){return layer.context.drawImage(sprite.image,bbox.a,bbox.b,bbox.c,bbox.d)},App}()}).call(this),function(){window.JnR||(window.JnR={}),window.JnR.Layer=function(){function Layer(name,root,width,height,prepend){this.name=name,this.root=null!=root?root:document.body,this.width=null!=width?width:800,this.height=null!=height?height:600,null==prepend&&(prepend=!1),this.name||(this.name="layer"+document.getElementsByTagName("canvas").length),console.log("creating layer "+this.name),this.canvas=document.createElement("canvas"),this.canvas.width=this.w=this.width,this.canvas.height=this.h=this.height,this.canvas.id="JnR-"+this.name,this.canvas.style.position="absolute",this.root.hasChildNodes()&&prepend?this.root.insertBefore(this.canvas,this.root.firstChild):this.root.appendChild(this.canvas),this.context=this.ctx=this.canvas.getContext("2d")}return Layer}()}.call(this),function(){window.JnR||(window.JnR={}),window.JnR.Sprite=function(){function Sprite(name,width,height){this.name=name,this.width=width,this.height=height,this.image=new Image,this.image.onload=function(){return this.ready=!0}}return Sprite.prototype.ready=!1,Sprite.prototype.load=function(url,size){return this.url=url,this.image=new Image,this.image.src=this.url,this.width=size.a,this.height=size.b},Sprite}()}.call(this),function(){window.JnR||(window.JnR={}),window.JnR.Vector=function(){function Vector(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.length=arguments.length}return Vector}()}.call(this);